// Main JS logic extracted from pig.html lines 381-600

// --- Challenge system and onboarding
function renderCurrentChallenge(index = 0) {
  // ...code...
}

renderCurrentChallenge(0); // default to first challenge

function showTutorialOverlay(stepsArr) {
  // ...code...
}

// Challenge submission
document.getElementById("challenge-form").onsubmit = function(e){
  // ...code...
};
// ...rest of JS code from lines 381 to 600...
// --- CONTINUED: JS extracted from pig.html lines 601-851 ---

// (Place after previous block; keep all function and global variable declarations as per snippet)